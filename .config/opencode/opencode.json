{
  "$schema": "https://opencode.ai/config.json",
  "model": "google/gemini-3-pro-preview",
  "theme": "rosepine",
  "instructions": [
    "AGENTS.md",
    "CLAUDE.md",
    "README.md"
  ],
  "permission": {
    "bash": "ask",
    "write": "allow",
    "read": "allow",
    "webfetch": "allow",
    "mcp": "ask"
  },
  "agent": {
    "plan": {
      "description": "Architect: Drafts implementation plans without code modification",
      "model": "google/gemini-3-flash-preview",
      "tools": {
        "read": true,
        "write": false,
        "bash": false
      }
    },
    "build": {
      "description": "Developer: Implements features with full system access",
      "model": "google/gemini-3-pro-preview",
      "tools": {
        "read": true,
        "write": true,
        "bash": true
      }
    },
    "fix": {
      "description": "Bug Fixer: Receives an error, diagnoses root cause, and applies minimal fix",
      "model": "google/gemini-3-pro-preview",
      "tools": {
        "read": true,
        "write": true,
        "bash": true
      },
      "prompt": "Role: Bug Fixer.\n\nObjective: Fix the reported error with minimal, surgical changes.\n\nDirectives:\n- Input: User provides error message, stack trace, or failing behavior.\n- Diagnose: Trace the error to its root cause using logs, stack traces, and code inspection.\n- Fix: Apply the smallest possible change that resolves the issue.\n- Verify: Run relevant tests or reproduce the scenario to confirm the fix.\n- Constraint: Do not refactor, optimize, or improve unrelated code.\n- Constraint: Do not add features or change behavior beyond fixing the bug.\n- Output: State what was wrong, what you changed, and why it fixes the issue."
    },
    "debug": {
      "description": "Debugger: Traces errors through logs, stack traces, and database state",
      "model": "google/gemini-3-pro-preview",
      "tools": {
        "read": true,
        "write": false,
        "bash": true
      },
      "prompt": "Role: Senior Debugger.\n\nObjective: Trace and diagnose errors.\n\nDirectives:\n- Check Laravel logs in storage/logs/\n- Examine database state via psql or artisan tinker\n- Trace stack traces to root cause\n- Output: Clear diagnosis with file:line references and suggested fix"
    },
    "review": {
      "description": "Reviewer: Analyzes diffs and PRs for security and logic",
      "model": "google/gemini-3-pro-preview",
      "tools": {
        "read": true,
        "write": false,
        "bash": true,
      },
      "prompt": "Role: Senior Staff Engineer (Code Review).\n\nObjective: Critically analyze local changes or GitHub PRs.\n\nDirectives:\n- Execute `gh pr list` and `gh pr diff <id>` to retrieve context.\n- Prioritize: Security vulnerabilities, Logical flaws, Performance issues, and Code style.\n- Action: Submit feedback via `gh pr review <id> --comment --body \"...\"`.\n- Constraint: Do not modify code. Provide actionable feedback only."
    },
    "release": {
      "description": "Release Manager: Handles versioning, changelogs, and publishing",
      "model": "google/gemini-3-pro-preview",
      "tools": {
        "read": true,
        "write": true,
        "bash": true
      },
      "prompt": "Role: Release Engineering Lead.\n\nDirectives:\n- Enforcement: Strictly adhere to Conventional Commits (feat, fix, chore).\n- Verification: Audit `git status` and `git diff` prior to any commit.\n- Pipeline: Bump Version -> Update Changelog -> Commit -> Tag -> Push -> `gh release create`.\n- Output: Provide verbose confirmation of all artifacts to be pushed to remote."
    },
    "explain": {
      "description": "Architect: Explains system architecture and traces logic flow",
      "model": "google/gemini-3-pro-preview",
      "tools": {
        "read": true,
        "write": false,
        "bash": false
      },
      "prompt": "Role: Principal Software Architect.\n\nObjective: Clarify system behavior, verify logic, and explain legacy code.\n\nDirectives:\n- Source of Truth: Base all answers strictly on file contents.\n- Database: Reference `_ide_helper_models.php` for schema validation.\n- Citation: Always cite filename and line number for code references.\n- Tone: Technical, precise, and devoid of speculation."
    }
  },
  "mcp": {
    "github": {
      "type": "remote",
      "url": "https://api.githubcopilot.com/mcp/",
      "headers": {
        "Authorization": "Bearer {env:GITHUB_PAT}"
      },
      "enabled": true
    },
    "fetch": {
      "type": "local",
      "command": [
        "docker",
        "run",
        "-i",
        "--rm",
        "mcp/fetch"
      ]
    },
    "filesystem": {
      "type": "local",
      "command": [
        "docker",
        "run",
        "-i",
        "--rm",
        "--mount",
        "type=bind,src=/home/me/code,dst=/projects/code",
        "mcp/filesystem",
        "/projects"
      ]
    },
    "git": {
      "type": "local",
      "command": [
        "docker",
        "run",
        "-i",
        "--rm",
        "--mount",
        "type=bind,src=/home/me/code,dst=/projects/code",
        "mcp/git"
      ]
    },
    "time": {
      "type": "local",
      "command": [
        "docker",
        "run",
        "-i",
        "--rm",
        "mcp/time"
      ]
    }
  }
}
